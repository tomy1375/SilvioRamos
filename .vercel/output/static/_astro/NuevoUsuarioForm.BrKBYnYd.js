import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.Dy6lLLXr.js";function F(){const[n,a]=r.useState(""),[d,c]=r.useState(""),[i,u]=r.useState(""),[m,f]=r.useState(""),[b,p]=r.useState(""),[g,x]=r.useState(""),[v,h]=r.useState(""),[y,t]=r.useState(!1),[j,l]=r.useState(""),[w,N]=r.useState(""),C=async s=>{if(s.preventDefault(),t(!0),l(""),N(""),i!==m){l("Las contraseñas no coinciden"),t(!1);return}try{const o=await fetch("/api/crear-usuario",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:n,email:d,password:i,tipo:b,empresa:g,telefono:v})});if(!o.ok){const k=await o.json();throw new Error(k.error||"Error al crear el usuario")}N("Usuario creado correctamente"),a(""),c(""),u(""),f(""),p(""),x(""),h(""),setTimeout(()=>{window.location.href="/admin"},2e3)}catch(o){l(o.message||"Error al crear el usuario. Por favor, inténtelo de nuevo.")}finally{t(!1)}};return e.jsxs("form",{className:"space-y-6",onSubmit:C,children:[j&&e.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md",children:j}),w&&e.jsx("div",{className:"bg-green-100 text-green-800 text-sm p-3 rounded-md",children:w}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"nombre",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Nombre Completo"}),e.jsx("input",{id:"nombre",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Nombre del usuario",value:n,onChange:s=>a(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Correo Electrónico"}),e.jsx("input",{id:"email",type:"email",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"correo@ejemplo.com",value:d,onChange:s=>c(s.target.value),required:!0})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Contraseña"}),e.jsx("input",{id:"password",type:"password",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:i,onChange:s=>u(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Confirmar Contraseña"}),e.jsx("input",{id:"confirmPassword",type:"password",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:m,onChange:s=>f(s.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"tipo",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Tipo de Usuario"}),e.jsxs("select",{id:"tipo",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:b,onChange:s=>p(s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un tipo"}),e.jsx("option",{value:"cliente",children:"Cliente"}),e.jsx("option",{value:"admin",children:"Administrador"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"empresa",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Empresa"}),e.jsx("input",{id:"empresa",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Nombre de la empresa (opcional)",value:g,onChange:s=>x(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"telefono",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Teléfono"}),e.jsx("input",{id:"telefono",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Número de teléfono",value:v,onChange:s=>h(s.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("a",{href:"/admin",className:"inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium shadow-sm transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",disabled:y,children:y?"Creando...":"Crear Usuario"})]})]})}export{F as default};
